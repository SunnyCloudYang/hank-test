/**
 * çŽ°ä»£æ±‰è¯­è™šè¯ç»ƒä¹ å¹³å° - é¢˜åº“é…ç½®
 * 
 * å¯æ‰©å±•çš„è™šè¯ç±»åˆ«é…ç½®ç³»ç»Ÿ
 * æ·»åŠ æ–°ç±»åˆ«åªéœ€ï¼š
 * 1. åœ¨ CATEGORIES ä¸­æ·»åŠ æ–°ç±»åˆ«é…ç½®
 * 2. åˆ›å»ºå¯¹åº”çš„é¢˜ç›®JSONæ–‡ä»¶ (å¦‚ questions-xxx.js)
 * 3. åœ¨ index.html ä¸­å¼•å…¥æ–°æ–‡ä»¶
 */

// ============================================================
// è™šè¯ç±»åˆ«é…ç½® (å¯æ‰©å±•)
// ============================================================
const CATEGORIES = {
    preposition: {
        id: 'preposition',
        name: 'ä»‹è¯',
        icon: 'ðŸ“',
        description: 'ä»‹è¯ç”¨äºŽè¡¨ç¤ºæ—¶é—´ã€å¤„æ‰€ã€æ–¹å‘ã€å¯¹è±¡ç­‰å…³ç³»',
        color: '#2d6a4f'
    },
    particle: {
        id: 'particle',
        name: 'åŠ©è¯',
        icon: 'ðŸ”—',
        description: 'åŠ©è¯é™„ç€åœ¨è¯æˆ–çŸ­è¯­ä¸Šè¡¨ç¤ºè¯­æ³•æ„ä¹‰',
        color: '#457b9d'
    },
    conjunction: {
        id: 'conjunction',
        name: 'è¿žè¯',
        icon: 'ðŸ”€',
        description: 'è¿žè¯ç”¨äºŽè¿žæŽ¥è¯ã€çŸ­è¯­æˆ–å¥å­',
        color: '#e76f51'
    },
    modal: {
        id: 'modal',
        name: 'è¯­æ°”è¯',
        icon: 'ðŸ’¬',
        description: 'è¯­æ°”è¯è¡¨è¾¾è¯´è¯äººçš„æ€åº¦å’Œæƒ…æ„Ÿ',
        color: '#9c6644'
    }
    // å¯ä»¥åœ¨æ­¤æ·»åŠ æ›´å¤šç±»åˆ«ï¼Œå¦‚ï¼š
    // adverb: {
    //     id: 'adverb',
    //     name: 'å‰¯è¯',
    //     icon: 'âš¡',
    //     description: 'å‰¯è¯ç”¨äºŽä¿®é¥°åŠ¨è¯ã€å½¢å®¹è¯ç­‰',
    //     color: '#6a4c93'
    // }
};

// è™šè¯ç±»åˆ«ä¸­æ–‡æ˜ å°„ (è‡ªåŠ¨ä»Ž CATEGORIES ç”Ÿæˆ)
const CATEGORY_MAP = Object.fromEntries(
    Object.entries(CATEGORIES).map(([key, val]) => [key, val.name])
);

// ============================================================
// è€ƒç‚¹æè¿°æ˜ å°„ (æŒ‰ç±»åˆ«ç»„ç»‡ï¼Œä¾¿äºŽæ‰©å±•)
// ============================================================
const TAG_DESCRIPTIONS = {

    // ===== ä»‹è¯ L1 =====
    'ä»‹è¯/è¯ç±»è¯†åˆ«': 'ä»‹è¯ä¸»è¦ç”¨äºŽå¼•å‡ºåè¯æ€§æˆåˆ†ï¼Œè¡¨ç¤ºæ—¶é—´ã€å¤„æ‰€ã€å¯¹è±¡ã€æ–¹å¼ã€ä¾æ®ã€åŽŸå› ã€‚åˆ¤æ–­æ—¶é‡ç‚¹çœ‹å…¶åŽæ˜¯å¦èƒ½æŽ¥åè¯/åè¯æ€§çŸ­è¯­ã€‚',

    'ä»‹è¯/ä½œç”¨è¾¨æž': 'ä¸åŒä»‹è¯è™½éƒ½èƒ½å¼•å‡ºåè¯/åè¯æ€§æˆåˆ†ï¼Œä½†è¯­ä¹‰ä¾§é‡ç‚¹ä¸åŒï¼Œé”™è¯¯å¤šæºäºŽè¯­ä¹‰åŠŸèƒ½æ··æ·†ã€‚',

    'ä»‹è¯/å¥æ³•åŠŸèƒ½': 'ä»‹è¯çŸ­è¯­åœ¨å¥ä¸­é€šå¸¸ä½œçŠ¶è¯­ï¼Œå¯ä»¥åšå®šè¯­å’Œè¡¥è¯­ï¼Œä¸èƒ½å•ç‹¬ä½œä¸»è¯­ã€è°“è¯­ã€å®¾è¯­ã€‚å…¶ä½ç½®å¤šåœ¨åŠ¨è¯å‰ã€‚',

    'ä»‹è¯/ç‰¹å¾': 'ä»‹è¯æœ¬èº«æ²¡æœ‰è¯æ±‡æ„ä¹‰ã€‚ä»‹è¯å…·æœ‰å›ºå®šå½¢å¼ç‰¹å¾ï¼šä¸èƒ½é‡å ã€ä¸èƒ½åŠ â€œäº†ã€ç€ã€è¿‡â€ç­‰åŠ¨æ€åŠ©è¯ï¼ŒåŽé¢å¿…é¡»æŽ¥åè¯æ€§æˆåˆ†ã€‚',

    // ===== ä»‹è¯ L2 =====
    'ä»‹è¯/è¯ç±»è¾¨æž': 'è¯¥è€ƒç‚¹è¦æ±‚åŒºåˆ†åŒå½¢è¯åœ¨ä¸åŒè¯­å¢ƒä¸­çš„è¯ç±»èº«ä»½ï¼Œå¦‚â€œåœ¨ã€ç»™ã€åˆ°ã€æ¯”â€ç­‰æ˜¯å¦æ‰¿æ‹…è°“è¯­åŠŸèƒ½ï¼Œè€Œä¸ä»…ä»…åˆ¤æ–­æ˜¯å¦åŽæŽ¥åè¯ã€‚',

    'ä»‹è¯/åŠŸèƒ½å¯¹æ¯”': 'æ¯”è¾ƒåŠŸèƒ½ç›¸è¿‘çš„ä»‹è¯åœ¨è¯­ä¹‰ã€è¯­ä½“æˆ–è¯­ç”¨ä¸Šçš„å·®å¼‚ï¼Œç‰¹åˆ«æ˜¯å¯ä»¥å…·å¤‡ä¸¤ç§æˆ–ä»¥ä¸Šä½œç”¨çš„ä»‹è¯ï¼Œå¦‚â€œå¯¹â€â€œæœ/å‘â€â€œåœ¨â€ï¼Œè€ƒæŸ¥ç²¾ç»†è¯­ä¹‰é€‰æ‹©èƒ½åŠ›ã€‚',

    'ä»‹è¯/ç»“æž„é€‰æ‹©': 'è¯¥ç±»é¢˜ç›®å…³æ³¨å¥æ³•ç»“æž„æ˜¯å¦æˆç«‹ï¼Œå¦‚æ˜¯å¦å¿…é¡»ä½¿ç”¨â€œæŠŠâ€å­—å¥ã€ä»‹è¯çŸ­è¯­æ˜¯å¦å¯åŽç½®ï¼Œä»¥åŠä»‹è¯çŸ­è¯­ä½œå®šè¯­å¿…é¡»è¦åŠ â€œçš„â€ã€‚',

    // ===== è¿žè¯ L1 =====
    'è¿žè¯/è¯ç±»è¯†åˆ«': 'è¿žè¯ç”¨äºŽè¿žæŽ¥åˆ†å¥æˆ–å¥å­æˆåˆ†ï¼Œæœ¬èº«ä¸å……å½“å¥å­æˆåˆ†ã€‚åˆ¤æ–­å…³é”®åœ¨äºŽå…¶æ˜¯å¦è¿žæŽ¥ä¸¤ä¸ªè¯­ä¹‰å•ä½ï¼Œè€Œéžä¿®é¥°åŠ¨è¯æˆ–åè¯ã€‚',

    'è¿žè¯/ä½œç”¨è¾¨æž': 'è¿žè¯çš„æ ¸å¿ƒåŠŸèƒ½æ˜¯è¡¨è¾¾é€»è¾‘å…³ç³»ï¼Œå¦‚å› æžœã€é€‰æ‹©ã€æ¡ä»¶ã€è½¬æŠ˜ã€é€’è¿›ã€è®©æ­¥ã€å‡è®¾ç­‰ï¼Œé”™è¯¯å¤šæºäºŽå¯¹å¥é—´é€»è¾‘å…³ç³»åˆ¤æ–­ä¸æ¸…ã€‚',

    'è¿žè¯/ç‰¹å¾': 'è¿žè¯ä½ç½®ç›¸å¯¹å›ºå®šï¼Œéƒ¨åˆ†è¿žè¯æˆå¯¹ä½¿ç”¨ï¼Œé€šå¸¸ä¸èƒ½éšæ„çœç•¥ï¼Œæœ‰çš„å¿…é¡»æ­é…å›ºå®šå‰¯è¯ï¼Œå¦åˆ™ä¼šé€ æˆé€»è¾‘å…³ç³»ä¸å®Œæ•´æˆ–æ¨¡ç³Šã€‚',

    // ===== è¿žè¯ L2 =====
    'è¿žè¯/åŠŸèƒ½å¯¹æ¯”': 'åœ¨å¤šä¸ªè¿žè¯å‡å¯ä½¿ç”¨çš„æƒ…å†µä¸‹ï¼Œè€ƒæŸ¥å“ªä¸€ä¸ªåœ¨è¯­ä¹‰ã€è¯­ä½“æˆ–è¯´è¯è€…ç«‹åœºä¸Šæœ€ä¸ºæ°å½“ï¼Œå¦‚â€œè¦æ˜¯/å¦‚æžœâ€â€œç»“æžœ/åè€Œâ€ç­‰ã€‚',

    // ===== åŠ©è¯ L1 =====
    'åŠ©è¯/è¯ç±»è¯†åˆ«': 'åŠ©è¯æ˜¯é™„ç€æ€§è™šè¯ï¼Œä¸èƒ½å•ç‹¬æˆå¥æˆ–å……å½“å¥å­æˆåˆ†ï¼Œå¿…é¡»ä¾é™„äºŽè¯ã€çŸ­è¯­æˆ–å¥å­ï¼Œä¸»è¦åŒ…æ‹¬ç»“æž„åŠ©è¯ï¼ŒåŠ¨æ€åŠ©è¯å’Œå…¶ä»–åŠ©è¯ã€‚',

    'åŠ©è¯/ä½œç”¨è¾¨æž': 'åŒå½¢åŠ©è¯åœ¨å¥ä¸­åŠŸèƒ½ä¸åŒï¼Œå¦‚â€œçš„/åœ°/å¾—â€åˆ†åˆ«æ ‡è®°å®šè¯­ã€çŠ¶è¯­å’Œè¡¥è¯­ã€‚â€œäº†/ç€/è¿‡â€ åˆ†åˆ«è¡¨åŠ¨ä½œçš„å®Œæˆï¼ŒåŠ¨ä½œ/çŠ¶æ€çš„çš„æŒç»­ï¼Œä»¥åŠæ›¾ç»çš„ç»åŽ†/åŠ¨ä½œçš„å®Œæˆï¼Œä¸Žå…·ä½“çš„æ—¶é—´æ— å…³ã€‚',

    'åŠ©è¯/ç‰¹å¾': 'åŠ©è¯å¤šè¯»è½»å£°ï¼Œä¸èƒ½å¦å®šã€ä¸èƒ½é‡å ï¼Œå…·æœ‰æ˜Žæ˜¾çš„ä¾é™„æ€§å’Œè¯­æ³•åŠŸèƒ½æ€§ã€‚',

    // ===== è¯­æ°”è¯ L1 / L2 =====
    'è¯­æ°”è¯/è¯ç±»è¯†åˆ«': 'è¯­æ°”è¯é€šå¸¸ä½äºŽå¥æœ«æˆ–å¥ä¸­åœé¡¿å¤„ï¼Œç”¨äºŽè¡¨è¾¾è¯´è¯è€…æ€åº¦æˆ–è¯­æ°”ï¼Œä¸æ”¹å˜å¥å­å‘½é¢˜å†…å®¹ã€‚',

    'è¯­æ°”è¯/ä½œç”¨è¾¨æž': 'ä¸åŒè¯­æ°”è¯å¯¹åº”ä¸åŒè¯­æ°”åŠŸèƒ½ï¼Œå¦‚ç–‘é—®ã€æŽ¨æµ‹ã€æ„Ÿå¹ã€è¯·æ±‚æˆ–å¼ºè°ƒï¼Œéœ€ç»“åˆè¯­å¢ƒåˆ¤æ–­å…¶è¯­ç”¨åŠŸèƒ½ã€‚',

    'è¯­æ°”è¯/ç‰¹å¾': 'è¯­æ°”è¯ä¸å½±å“å¥å­äº‹å®žçœŸå‡ï¼Œåˆ é™¤åŽå¥å­å‘½é¢˜ä»æˆç«‹ï¼Œä¸»è¦èµ·è¯­ç”¨å’Œæƒ…æ€è°ƒèŠ‚ä½œç”¨ã€‚'
};

// ============================================================
// å­¦ä¹ å»ºè®®æ˜ å°„ (æŒ‰ç±»åˆ«ç»„ç»‡)
// ============================================================
const STUDY_SUGGESTIONS = {

    // ===== ä»‹è¯ =====
    'ä»‹è¯/è¯ç±»è¯†åˆ«': {
        title: 'åŠ å¼ºä»‹è¯å’Œå…¼ç±»è¯çš„è¯†åˆ«è®­ç»ƒ',
        content: 'å»ºè®®é€šè¿‡â€œåŽæŽ¥æˆåˆ†æ£€æµ‹â€ï¼Œâ€œæ˜¯å¦èƒ½ç‹¬ç«‹æ‰¿æ‹…è°“è¯­â€ï¼Œâ€œèƒ½å¦å¸¦åŠ¨æ€åŠ©è¯æµ‹è¯•â€ç­‰æ¥åˆ¤æ–­è¯ç±»ï¼Œå¹¶ç³»ç»Ÿæ•´ç†å¸¸è§å…¼ç±»è¯åœ¨ä¸åŒè¯­å¢ƒä¸­çš„ç”¨æ³•å·®å¼‚ã€‚'
    },

    'ä»‹è¯/ä½œç”¨è¾¨æž': {
        title: 'æå‡ä»‹è¯è¯­ä¹‰åŠŸèƒ½åŒºåˆ†èƒ½åŠ›',
        content: 'å­¦ä¹ æ—¶åº”å…³æ³¨ä»‹è¯æ‰€çªå‡ºçš„æ˜¯åŠ¨ä½œå¯¹è±¡ã€è¯é¢˜èŒƒå›´è¿˜æ˜¯ç›®çš„æ„ä¹‰ã€‚'
    },

    'ä»‹è¯/å¥æ³•åŠŸèƒ½': {
        title: 'å…³æ³¨ä»‹è¯çŸ­è¯­åœ¨å¥ä¸­çš„ä½ç½®ä¸ŽåŠŸèƒ½',
        content: 'å»ºè®®å¤šåˆ†æžä»‹è¯çŸ­è¯­åœ¨å¥ä¸­å……å½“çš„æˆåˆ†ï¼Œç‰¢è®°ä»‹è¯çŸ­è¯­ä½œä¿®é¥°æ€§æˆåˆ†ã€‚'
    },

    'ä»‹è¯/ç‰¹å¾': {
        title: 'æŽŒæ¡ä»‹è¯çš„åŸºæœ¬å®šä¹‰',
        content: 'å¤ä¹ ä»‹è¯çš„æ¦‚å¿µä¹‰'
    },

    'ä»‹è¯/è¯ç±»è¾¨æž': {
        title: 'å¼ºåŒ–ä»‹è¯ä¸ŽåŠ¨è¯ã€å‰¯è¯çš„åŒºåˆ†',
        content: 'å»ºè®®é€šè¿‡åˆ¤æ–­è¯¥è¯æ˜¯å¦æ‰¿æ‹…è°“è¯­åŠŸèƒ½ã€æ˜¯å¦å¯è¢«å¦å®šæˆ–å¸¦æ—¶æ€æ¥åŒºåˆ†å…¶è¯ç±»èº«ä»½ã€‚'
    },

    'ä»‹è¯/åŠŸèƒ½å¯¹æ¯”': {
        title: 'ç²¾ç»†åŒ–ä»‹è¯è¯­ä¹‰ä¸Žè¯­ä½“é€‰æ‹©',
        content: 'åœ¨ç»ƒä¹ ä¸­åº”ç»“åˆå…·ä½“è¯­å¢ƒå’Œè¯­ä½“è¦æ±‚ï¼Œåˆ¤æ–­ä¸åŒä»‹è¯åœ¨è¡¨è¾¾ç«‹åœºã€å¯¹è±¡æˆ–èŒƒå›´ä¸Šçš„ç»†å¾®å·®åˆ«ã€‚'
    },

    'ä»‹è¯/ç»“æž„é€‰æ‹©': {
        title: 'åŠ å¼ºå¥æ³•ç»“æž„åˆæ³•æ€§åˆ¤æ–­',
        content: 'å»ºè®®å¤šè¿›è¡Œå¥å¼é‡æŽ’ç»ƒä¹ ï¼Œæ£€éªŒä»‹è¯çŸ­è¯­å‰ç½®æˆ–åŽç½®æ˜¯å¦ä»ç¬¦åˆçŽ°ä»£æ±‰è¯­å¥æ³•è§„åˆ™ã€‚'
    },

    // ===== è¿žè¯ =====
    'è¿žè¯/è¯ç±»è¯†åˆ«': {
        title: 'æ˜Žç¡®è¿žè¯çš„è¿žæŽ¥åŠŸèƒ½',
        content: 'åˆ¤æ–­è¿žè¯æ—¶åº”ä¼˜å…ˆåˆ†æžæ˜¯å¦è¿žæŽ¥ä¸¤ä¸ªè¯ã€çŸ­è¯­æˆ–å¥å­ï¼Œè€Œéžä»…å‡­è¯å½¢åˆ¤æ–­ã€‚'
    },

    'è¿žè¯/ä½œç”¨è¾¨æž': {
        title: 'æå‡é€»è¾‘å…³ç³»è¯†åˆ«èƒ½åŠ›',
        content: 'å»ºè®®å…ˆä¸çœ‹è¿žè¯ï¼Œè‡ªè¡Œæ¦‚æ‹¬åˆ†å¥ä¹‹é—´çš„é€»è¾‘å…³ç³»ï¼Œå†é€‰æ‹©æœ€åŒ¹é…çš„è¿žè¯ã€‚'
    },

    'è¿žè¯/ç‰¹å¾': {
        title: 'ç†Ÿæ‚‰è¿žè¯çš„å›ºå®šæ­é…ä¸Žä½ç½®',
        content: 'å¯é€šè¿‡çœç•¥æµ‹è¯•ï¼Œè§‚å¯ŸåŽ»æŽ‰è¿žè¯åŽé€»è¾‘æ˜¯å¦æ–­è£‚ï¼Œä»¥åŠ æ·±å¯¹è¿žè¯ç»“æž„ç‰¹å¾çš„ç†è§£ã€‚'
    },

    'è¿žè¯/åŠŸèƒ½å¯¹æ¯”': {
        title: 'åŒºåˆ†è¯­ä¹‰æŽ¥è¿‘è¿žè¯çš„ä½¿ç”¨æ¡ä»¶',
        content: 'å»ºè®®å…³æ³¨è¿žè¯åœ¨è¯­æ°”ã€è¯­ä½“å’Œè¯´è¯è€…ç«‹åœºä¸Šçš„å·®å¼‚ï¼Œè€Œä¸ä»…åˆ¤æ–­æ˜¯å¦â€œèƒ½ç”¨â€ã€‚'
    },

    // ===== åŠ©è¯ =====
    'åŠ©è¯/è¯ç±»è¯†åˆ«': {
        title: 'å·©å›ºåŠ©è¯çš„åŸºæœ¬æ¦‚å¿µã€å®šä¹‰',
        content: 'å­¦ä¹ æ—¶åº”é‡ç‚¹åˆ¤æ–­è¯¥è¯æ˜¯å¦å¿…é¡»ä¾é™„å…¶ä»–æˆåˆ†ï¼Œæ˜¯å¦èƒ½å•ç‹¬æˆå¥ã€‚'
    },

    'åŠ©è¯/ä½œç”¨è¾¨æž': {
        title: 'å‡†ç¡®åŒºåˆ†åŠ©è¯çš„è¯­æ³•åŠŸèƒ½',
        content: 'å»ºè®®é€šè¿‡ç¡®å®šåŠ©è¯æ‰€è¿žæŽ¥æˆ–ä¿®é¥°çš„æˆåˆ†ï¼Œåˆ¤æ–­å…¶æ˜¯å®šè¯­æ ‡è®°ã€çŠ¶è¯­æ ‡è®°è¿˜æ˜¯è¡¥è¯­æ ‡è®°ã€‚'
    },

    'åŠ©è¯/ç‰¹å¾': {
        title: 'æŽŒæ¡åŠ©è¯çš„å½¢å¼ä¸Žè¯­éŸ³ç‰¹ç‚¹',
        content: 'å¯é€šè¿‡è½»å£°æœ—è¯»å’Œå¦å®šæµ‹è¯•ï¼Œå¸®åŠ©è¯†åˆ«åŠ©è¯ä¸èƒ½é‡å ã€ä¸èƒ½å¦å®šç­‰å…±æ€§ç‰¹å¾ã€‚'
    },

    // ===== è¯­æ°”è¯ =====
    'è¯­æ°”è¯/è¯ç±»è¯†åˆ«': {
        title: 'è¯†åˆ«è¯­æ°”è¯çš„ä½ç½®ä¸ŽåŠŸèƒ½',
        content: 'åˆ¤æ–­è¯­æ°”è¯æ—¶ï¼Œå¯é€šè¿‡åˆ é™¤è¯¥è¯è§‚å¯Ÿå¥å­å‘½é¢˜æ˜¯å¦ä»æˆç«‹ï¼Œä»Žè€ŒåŒºåˆ†å…¶ä¸Žç»“æž„åŠ©è¯çš„ä¸åŒã€‚'
    },

    'è¯­æ°”è¯/ä½œç”¨è¾¨æž': {
        title: 'ç†è§£ä¸åŒè¯­æ°”è¯çš„è¯­ç”¨å·®å¼‚',
        content: 'å»ºè®®ç»“åˆå…·ä½“è¯­å¢ƒï¼Œåˆ†æžè¯´è¯è€…çš„æ€åº¦ã€æƒ…ç»ªæˆ–æŽ¨æµ‹ç«‹åœºï¼Œè€Œéžä»…å…³æ³¨å¥å¼è¡¨é¢ã€‚'
    },

    'è¯­æ°”è¯/ç‰¹å¾': {
        title: 'å…³æ³¨è¯­æ°”è¯çš„è¯­ç”¨å±žæ€§',
        content: 'å­¦ä¹ æ—¶åº”æ³¨æ„è¯­æ°”è¯å¯¹å¥å­è¯­æ°”å’Œè¯­ç”¨æ•ˆæžœçš„å½±å“ï¼Œè€Œä¸æ˜¯å¯¹äº‹å®žå†…å®¹çš„æ”¹å˜ã€‚'
    }
};

// ============================================================
// è¾…åŠ©å‡½æ•°
// ============================================================

/**
 * æ³¨å†Œæ–°çš„è™šè¯ç±»åˆ«
 * @param {string} id - ç±»åˆ«ID
 * @param {object} config - ç±»åˆ«é…ç½®
 */
function registerCategory(id, config) {
    CATEGORIES[id] = { id, ...config };
    CATEGORY_MAP[id] = config.name;
}

/**
 * æ³¨å†Œæ–°çš„è€ƒç‚¹æè¿°
 * @param {string} tag - è€ƒç‚¹æ ‡ç­¾
 * @param {string} description - è€ƒç‚¹æè¿°
 */
function registerTagDescription(tag, description) {
    TAG_DESCRIPTIONS[tag] = description;
}

/**
 * æ³¨å†Œæ–°çš„å­¦ä¹ å»ºè®®
 * @param {string} tag - è€ƒç‚¹æ ‡ç­¾
 * @param {object} suggestion - å­¦ä¹ å»ºè®® { title, content }
 */
function registerStudySuggestion(tag, suggestion) {
    STUDY_SUGGESTIONS[tag] = suggestion;
}

/**
 * èŽ·å–æ‰€æœ‰å·²æ³¨å†Œçš„ç±»åˆ«
 * @returns {array} ç±»åˆ«åˆ—è¡¨
 */
function getCategories() {
    return Object.values(CATEGORIES);
}

/**
 * èŽ·å–ç±»åˆ«ä¿¡æ¯
 * @param {string} categoryId - ç±»åˆ«ID
 * @returns {object} ç±»åˆ«é…ç½®
 */
function getCategoryInfo(categoryId) {
    return CATEGORIES[categoryId] || null;
}

/**
 * èŽ·å–ç±»åˆ«ä¸­æ–‡åæ˜ å°„ï¼ˆå…¼å®¹ questions.jsï¼‰
 * @returns {object} ç±»åˆ«IDåˆ°ä¸­æ–‡åçš„æ˜ å°„
 */
function getCategoryMap() {
    return { ...CATEGORY_MAP };
}

/**
 * èŽ·å–æ‰€æœ‰è€ƒç‚¹æè¿°æ˜ å°„ï¼ˆå…¼å®¹ questions.jsï¼‰
 * @returns {object} è€ƒç‚¹æ ‡ç­¾åˆ°æè¿°çš„æ˜ å°„
 */
function getTagDescriptions() {
    return { ...TAG_DESCRIPTIONS };
}

/**
 * èŽ·å–æ‰€æœ‰å­¦ä¹ å»ºè®®æ˜ å°„ï¼ˆå…¼å®¹ questions.jsï¼‰
 * @returns {object} è€ƒç‚¹æ ‡ç­¾åˆ°å­¦ä¹ å»ºè®®çš„æ˜ å°„
 */
function getStudySuggestions() {
    return { ...STUDY_SUGGESTIONS };
}

/**
 * èŽ·å–ç±»åˆ«åˆ—è¡¨ï¼ˆç”¨äºŽæ˜¾ç¤ºï¼‰
 * @returns {array} ç±»åˆ«ä¿¡æ¯æ•°ç»„
 */
function getCategoryList() {
    return Object.values(CATEGORIES).map(cat => ({
        id: cat.id,
        name: cat.name,
        description: cat.description,
        icon: cat.icon,
        color: cat.color
    }));
}

// ============================================================
// å¯¼å‡º
// ============================================================
window.CATEGORIES = CATEGORIES;
window.CATEGORY_MAP = CATEGORY_MAP;
window.TAG_DESCRIPTIONS = TAG_DESCRIPTIONS;
window.STUDY_SUGGESTIONS = STUDY_SUGGESTIONS;
window.registerCategory = registerCategory;
window.registerTagDescription = registerTagDescription;
window.registerStudySuggestion = registerStudySuggestion;
window.getCategories = getCategories;
window.getCategoryInfo = getCategoryInfo;
window.getCategoryMap = getCategoryMap;
window.getTagDescriptions = getTagDescriptions;
window.getStudySuggestions = getStudySuggestions;
window.getCategoryList = getCategoryList;