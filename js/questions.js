/**
 * 现代汉语虚词练习平台 - 题库数据
 * 
 * 数据结构说明：
 * - id: 唯一标识符
 * - type: 题目类型 (single=单选, multiple=多选, judgment=判断)
 * - level: 难度级别 (basic=基础, advanced=进阶)
 * - category: 虚词大类 (preposition=介词, particle=助词, conjunction=连词, modal=语气词)
 * - tag: 具体考点标签，用于精准定位薄弱点
 * - stem: 题干
 * - options: 选项数组 (判断题可省略)
 * - answer: 正确答案数组
 * - analysis: 解析说明
 */

// 虚词类别中文映射
const CATEGORY_MAP = {
    preposition: '介词',
    particle: '助词',
    conjunction: '连词',
    modal: '语气词'
};

// 考点描述映射（用于薄弱点分析）
const TAG_DESCRIPTIONS = {
    // 介词相关
    '对/对于混淆': '"对"侧重于动作的对象，"对于"侧重于引出话题或涉及的范围。"对于"通常可以放在句首，"对"一般不能。',
    '把字句': '"把"字句要求动词必须有处置义，宾语是确定的、有定的，且动词后面一般要有其他成分（如补语、"了"等）。',
    '被字句': '"被"字句表示被动，主语是动作的承受者。注意区分"被"和"叫/让/给"的使用语境。',
    '在/于用法': '"在"表示动作发生的处所、时间，"于"多用于书面语，可表示时间、处所、对象等多种关系。',
    '向/朝/往': '"向"表示动作的方向或对象，"朝"强调面对的方向，"往"强调去向、目的地。',
    
    // 助词相关
    '的地得误用': '"的"修饰名词（定语标志），"地"修饰动词（状语标志），"得"用于动词/形容词后引出补语。',
    '了/过/着时态': '"了"表示动作完成或变化，"过"表示曾经有过某种经历，"着"表示动作正在进行或状态持续。',
    '所字结构': '"所"与动词组合构成名词性结构，如"所见""所闻"。"所"字结构常与"的"连用。',
    '结构助词综合': '结构助词包括"的、地、得"，用于连接修饰语和中心语，需要根据语法功能正确选用。',
    
    // 连词相关
    '虽然但是/即使也': '"虽然…但是…"表示转折，陈述已然的事实；"即使…也…"表示假设让步，陈述未然或假设的情况。',
    '因为所以': '"因为…所以…"表示因果关系，前后句分别说明原因和结果，两个关联词可以只用一个。',
    '不但而且': '"不但…而且…"表示递进关系，后一分句的意思比前一分句更进一层。',
    '或者还是': '"或者"用于陈述句，表示选择；"还是"用于疑问句，询问选择。',
    '并列连词': '并列连词连接的成分在语法地位上是平等的，如"和、跟、同、与、及"等。',
    
    // 语气词相关
    '吗/呢/吧疑问语气': '"吗"用于是非问，"呢"用于特指问或追问，"吧"表示推测或商量。',
    '啊/呀感叹语气': '"啊"表示感叹、赞美、惊讶等语气，"呀"是"啊"的变体，前面元音不同时使用。',
    '了/的语气': '句末"了"表示情况变化或新情况出现，"的"用于强调已然的事实。',
    '语气词综合': '语气词表达说话人的态度、情感和语气，需根据语境选择合适的语气词。'
};

// 学习建议映射（用于报告生成）
const STUDY_SUGGESTIONS = {
    // 介词相关
    '对/对于混淆': {
        title: '加强"对/对于"辨析训练',
        content: '建议重点学习"对"和"对于"的语法差异。可以通过以下方法：1）收集含有"对/对于"的句子，分析其位置和功能；2）尝试互换使用，体会语感差异；3）注意"对于"常用于句首引出话题的特点。'
    },
    '把字句': {
        title: '系统学习"把"字句的使用规则',
        content: '建议复习"把"字句的构成条件：1）动词必须有处置义；2）宾语是确定的；3）动词后需有其他成分。可通过改写练习，将普通句子改为"把"字句，加深理解。'
    },
    '被字句': {
        title: '掌握被动句的表达方式',
        content: '建议对比学习"被、叫、让、给"等被动标记词的异同，注意书面语和口语的区别。通过主动句和被动句的互换练习来巩固。'
    },
    '在/于用法': {
        title: '区分"在"和"于"的适用语境',
        content: '建议通过大量阅读书面语材料，积累"于"的常见搭配（如"位于、在于、由于"等）。注意"于"多用于书面语、固定短语中，"在"则更口语化。'
    },
    '向/朝/往': {
        title: '辨析方向介词的细微差别',
        content: '建议通过语境分析法学习：1）"向"可表示方向和对象；2）"朝"强调面对方向；3）"往"强调目的地。可通过填空练习巩固。'
    },
    
    // 助词相关
    '的地得误用': {
        title: '强化"的、地、得"语法功能训练',
        content: '牢记口诀："的"前定、"地"前状、"得"后补。建议：1）分析句子成分，判断是定语、状语还是补语；2）进行专项改错练习；3）朗读时注意停顿和重音。'
    },
    '了/过/着时态': {
        title: '掌握动态助词的时间意义',
        content: '建议对比学习：1）"了"表完成或变化；2）"过"表经历；3）"着"表持续。可通过描述场景练习，如描述正在发生的事（用"着"）、已完成的事（用"了"）、过去的经历（用"过"）。'
    },
    '所字结构': {
        title: '理解"所"字结构的名词化功能',
        content: '建议收集书面语中的"所"字结构实例，分析其用法特点。注意"所+动词"构成名词性短语，常与"的"连用。多阅读古文今译材料有助于理解。'
    },
    '结构助词综合': {
        title: '综合运用结构助词',
        content: '建议进行句子成分分析练习，明确每个结构助词的语法位置和功能。可通过句子扩展练习，在名词前加定语（用"的"）、动词前加状语（用"地"）、动词后加补语（用"得"）。'
    },
    
    // 连词相关
    '虽然但是/即使也': {
        title: '区分转折与让步假设关系',
        content: '关键是判断条件是已然还是未然：1）"虽然…但是…"用于陈述已发生的事实；2）"即使…也…"用于假设还未发生的情况。建议通过真实与假设情境的对比练习来巩固。'
    },
    '因为所以': {
        title: '巩固因果关系的表达',
        content: '建议练习因果关系句的改写，注意：1）两个关联词可以只用一个；2）前后分句的逻辑顺序；3）口语中常省略"所以"。'
    },
    '不但而且': {
        title: '理解递进关系的层次性',
        content: '递进关系的特点是后一分句意思更进一层。建议：1）分析前后分句的递进层次；2）练习用"不但…而且…"造句；3）注意主语位置对句义的影响。'
    },
    '或者还是': {
        title: '区分陈述与疑问中的选择表达',
        content: '牢记："或者"用于陈述，"还是"用于疑问。建议通过陈述句和疑问句的互换练习来巩固这一规则。'
    },
    '并列连词': {
        title: '掌握并列连词的使用规范',
        content: '注意各并列连词的语体色彩："和"最通用，"与、及"偏书面语，"跟、同"偏口语。建议分析不同语境下并列连词的选择。'
    },
    
    // 语气词相关
    '吗/呢/吧疑问语气': {
        title: '掌握疑问语气词的功能差异',
        content: '建议对比学习：1）"吗"用于是非问（期待"是/不是"的回答）；2）"呢"用于特指问或追问；3）"吧"表推测或商量。可通过问答练习来巩固。'
    },
    '啊/呀感叹语气': {
        title: '理解语气词的音变规律',
        content: '"啊"的变体取决于前面音节的韵尾。建议学习语音规律，多进行朗读练习，培养语感。'
    },
    '了/的语气': {
        title: '区分句末"了"和"的"的语气功能',
        content: '句末"了"表示变化或新情况，"的"表示强调。建议通过语境分析，体会两者表达的重点不同。'
    },
    '语气词综合': {
        title: '综合运用语气词表达情感',
        content: '语气词是汉语表达情感的重要手段。建议：1）多听母语者的日常对话；2）朗读带语气词的句子；3）尝试在写作中恰当使用语气词。'
    }
};

// 题库数据（示例题目 - 实际使用时替换为完整题库）
const QUESTIONS = [
    // ========== 介词 - 基础题 ==========
    {
        id: 'prep_basic_001',
        type: 'single',
        level: 'basic',
        category: 'preposition',
        tag: '对/对于混淆',
        stem: '下列句子中，"对"和"对于"使用正确的是：',
        options: [
            { key: 'A', text: '对这个问题，我们应该认真研究。' },
            { key: 'B', text: '他对于我很好。' },
            { key: 'C', text: '对于他的批评，我虚心接受。' },
            { key: 'D', text: '这件事对于影响很大。' }
        ],
        answer: ['C'],
        analysis: '选C。"对于"可以放在句首引出话题，C句结构正确。A句"对"用于句首不如"对于"自然；B句"对于"后面不能直接接人称代词作宾语表示态度，应改为"对"；D句缺少介词宾语，应为"对...影响很大"。'
    },
    {
        id: 'prep_basic_002',
        type: 'single',
        level: 'basic',
        category: 'preposition',
        tag: '把字句',
        stem: '下列"把"字句使用正确的是：',
        options: [
            { key: 'A', text: '他把一本书看了。' },
            { key: 'B', text: '请把这封信寄给他。' },
            { key: 'C', text: '我把很高兴。' },
            { key: 'D', text: '把问题他解决了。' }
        ],
        answer: ['B'],
        analysis: '选B。"把"字句要求：①动词有处置义；②宾语是有定的；③动词后有其他成分。B句完全符合要求。A句"一本书"是无定的；C句"高兴"是形容词，不能作"把"的宾语；D句语序错误。'
    },
    {
        id: 'prep_basic_003',
        type: 'judgment',
        level: 'basic',
        category: 'preposition',
        tag: '被字句',
        stem: '"这本书被他看完了"是一个正确的被动句。',
        options: [],
        answer: ['T'],
        analysis: '正确。该句是标准的"被"字句，主语"这本书"是动作"看"的承受者，句子结构完整，符合被动句的语法要求。'
    },
    {
        id: 'prep_basic_004',
        type: 'single',
        level: 'basic',
        category: 'preposition',
        tag: '在/于用法',
        stem: '下列句子中介词使用正确的是：',
        options: [
            { key: 'A', text: '这个学校位于北京。' },
            { key: 'B', text: '他于图书馆看书。' },
            { key: 'C', text: '问题在于于解决。' },
            { key: 'D', text: '他在1990年毕业在北京大学。' }
        ],
        answer: ['A'],
        analysis: '选A。"位于"是固定搭配，用法正确。B句日常表达应用"在"不用"于"；C句"在于"后面应接名词性成分；D句同一句中不应重复使用"在"。'
    },
    {
        id: 'prep_basic_005',
        type: 'multiple',
        level: 'basic',
        category: 'preposition',
        tag: '向/朝/往',
        stem: '下列句子中方向介词使用正确的有：（多选）',
        options: [
            { key: 'A', text: '他向老师请教问题。' },
            { key: 'B', text: '朝前看，不要回头。' },
            { key: 'C', text: '他往东边走去了。' },
            { key: 'D', text: '向哪里去？' }
        ],
        answer: ['A', 'B', 'C'],
        analysis: '选ABC。A句"向"表示动作的对象，正确；B句"朝"表示面对的方向，正确；C句"往"表示去向，正确；D句应该用"往"而不是"向"，因为这里强调的是去向、目的地。'
    },
    
    // ========== 介词 - 进阶题 ==========
    {
        id: 'prep_adv_001',
        type: 'single',
        level: 'advanced',
        category: 'preposition',
        tag: '把字句',
        stem: '下列关于"把"字句的分析，不正确的是：',
        options: [
            { key: 'A', text: '"把"字句的动词必须是及物动词' },
            { key: 'B', text: '"把"字句的宾语一般是有定的' },
            { key: 'C', text: '"把"字句的动词可以是单独的光杆动词' },
            { key: 'D', text: '"把"字句表示对某事物的处置' }
        ],
        answer: ['C'],
        analysis: '选C。"把"字句对动词有严格要求：动词后面必须有其他成分，如补语、动态助词"了"、宾语等，不能是单独的光杆动词。例如不能说"我把书看"，要说"我把书看了/看完"。'
    },
    {
        id: 'prep_adv_002',
        type: 'multiple',
        level: 'advanced',
        category: 'preposition',
        tag: '对/对于混淆',
        stem: '下列句子中，哪些可以用"对于"替换"对"而意思基本不变？（多选）',
        options: [
            { key: 'A', text: '他对我笑了笑。' },
            { key: 'B', text: '对这个问题，大家看法不一。' },
            { key: 'C', text: '他对人很热情。' },
            { key: 'D', text: '对此事的处理，我有不同意见。' }
        ],
        answer: ['B', 'D'],
        analysis: '选BD。B和D句中"对"引出话题，可以换成"对于"。A句"对"引出动作的对象，不能换成"对于"；C句"对人"是固定搭配，表示对人的态度，不宜换成"对于"。'
    },
    {
        id: 'prep_adv_003',
        type: 'judgment',
        level: 'advanced',
        category: 'preposition',
        tag: '被字句',
        stem: '"被"字句中的施事成分可以省略，如"杯子被打碎了"可以说成"杯子打碎了"。',
        options: [],
        answer: ['T'],
        analysis: '正确。汉语中，当施事不明确或不重要时，可以省略"被"及其后的施事成分，形成意义上的被动句。"杯子打碎了"虽然没有"被"字，但仍表达被动意义。'
    },
    
    // ========== 助词 - 基础题 ==========
    {
        id: 'part_basic_001',
        type: 'single',
        level: 'basic',
        category: 'particle',
        tag: '的地得误用',
        stem: '下列句子中"的、地、得"使用正确的是：',
        options: [
            { key: 'A', text: '他高兴的跳了起来。' },
            { key: 'B', text: '这是一本很好地书。' },
            { key: 'C', text: '她唱得非常好听。' },
            { key: 'D', text: '他得意的笑了。' }
        ],
        answer: ['C'],
        analysis: '选C。"得"用于动词或形容词后面，引出补语，说明程度或结果。A句应为"地"（状语标志）；B句应为"的"（定语标志）；D句应为"地"（状语标志）。'
    },
    {
        id: 'part_basic_002',
        type: 'single',
        level: 'basic',
        category: 'particle',
        tag: '了/过/着时态',
        stem: '填入横线处最恰当的助词是：他在北京住___三年。（表示曾经的经历）',
        options: [
            { key: 'A', text: '了' },
            { key: 'B', text: '过' },
            { key: 'C', text: '着' },
            { key: 'D', text: '的' }
        ],
        answer: ['B'],
        analysis: '选B。题目要求表示"曾经的经历"，应该用"过"。"了"表示动作完成，"着"表示动作持续，"的"不是动态助词。'
    },
    {
        id: 'part_basic_003',
        type: 'judgment',
        level: 'basic',
        category: 'particle',
        tag: '的地得误用',
        stem: '"她激动地说不出话来"这句话中"地"的使用是正确的。',
        options: [],
        answer: ['T'],
        analysis: '正确。"激动"是修饰动词"说"的状语，状语后面用"地"，因此"激动地说"是正确的用法。'
    },
    {
        id: 'part_basic_004',
        type: 'multiple',
        level: 'basic',
        category: 'particle',
        tag: '了/过/着时态',
        stem: '下列句子中动态助词使用正确的有：（多选）',
        options: [
            { key: 'A', text: '门开着，请进。' },
            { key: 'B', text: '我吃了饭了。' },
            { key: 'C', text: '他去过上海。' },
            { key: 'D', text: '她正在看着书。' }
        ],
        answer: ['A', 'B', 'C'],
        analysis: '选ABC。A句"着"表状态持续，正确；B句"了"表动作完成，正确；C句"过"表经历，正确；D句"正在"和"着"重复表达进行义，应去掉一个。'
    },
    {
        id: 'part_basic_005',
        type: 'single',
        level: 'basic',
        category: 'particle',
        tag: '所字结构',
        stem: '下列句子中"所"字使用正确的是：',
        options: [
            { key: 'A', text: '这就是我所需要。' },
            { key: 'B', text: '他的所作所为令人钦佩。' },
            { key: 'C', text: '所以他很高兴。' },
            { key: 'D', text: '这是所学校。' }
        ],
        answer: ['B'],
        analysis: '选B。"所作所为"是"所"字结构，"所"与动词组合成名词性短语。A句"所需要"后应加"的"；C句"所以"是连词，不是"所"字结构；D句"所"不能直接修饰名词。'
    },
    
    // ========== 助词 - 进阶题 ==========
    {
        id: 'part_adv_001',
        type: 'single',
        level: 'advanced',
        category: 'particle',
        tag: '的地得误用',
        stem: '下列关于"的、地、得"的表述，正确的是：',
        options: [
            { key: 'A', text: '"的"只能用在名词前面' },
            { key: 'B', text: '"地"只能用在动词前面' },
            { key: 'C', text: '"得"可以用在形容词后面引出程度补语' },
            { key: 'D', text: '三者可以互换使用' }
        ],
        answer: ['C'],
        analysis: '选C。"得"可以用在动词或形容词后面引出补语，如"高兴得跳起来""红得发紫"。A错，"的"可以构成"的"字短语；B错，"地"用在状语后面，状语不只是修饰动词；D错，三者语法功能不同，不能互换。'
    },
    {
        id: 'part_adv_002',
        type: 'multiple',
        level: 'advanced',
        category: 'particle',
        tag: '了/过/着时态',
        stem: '下列句子中，哪些"了"是动态助词（表示动作完成）？（多选）',
        options: [
            { key: 'A', text: '他买了一本书。' },
            { key: 'B', text: '天黑了。' },
            { key: 'C', text: '吃了饭再走。' },
            { key: 'D', text: '他太累了。' }
        ],
        answer: ['A', 'C'],
        analysis: '选AC。A句"买了"的"了"表示动作完成；C句"吃了"的"了"表示动作完成。B句"了"表示变化，是语气词；D句"了"表示程度，也是语气词。'
    },
    {
        id: 'part_adv_003',
        type: 'judgment',
        level: 'advanced',
        category: 'particle',
        tag: '结构助词综合',
        stem: '"他是昨天来的"中的"的"和"他的书"中的"的"语法功能相同。',
        options: [],
        answer: ['F'],
        analysis: '错误。"他是昨天来的"中的"的"是语气词，用于"是…的"强调结构，强调时间；而"他的书"中的"的"是结构助词，用于定中关系，表示领属。两者语法功能不同。'
    },
    
    // ========== 连词 - 基础题 ==========
    {
        id: 'conj_basic_001',
        type: 'single',
        level: 'basic',
        category: 'conjunction',
        tag: '虽然但是/即使也',
        stem: '下列句子中关联词使用正确的是：',
        options: [
            { key: 'A', text: '虽然明天下雨，我们也要去。' },
            { key: 'B', text: '即使他很努力，但是没有成功。' },
            { key: 'C', text: '虽然天气很冷，但是他还是去了。' },
            { key: 'D', text: '即使他病了，但是还在工作。' }
        ],
        answer: ['C'],
        analysis: '选C。"虽然…但是…"表示转折关系，用于陈述已然的事实。A句应用"即使…也…"（假设让步）；B、D句"即使"不能和"但是"搭配，应该和"也"搭配。'
    },
    {
        id: 'conj_basic_002',
        type: 'single',
        level: 'basic',
        category: 'conjunction',
        tag: '因为所以',
        stem: '下列句子中因果关系表达正确的是：',
        options: [
            { key: 'A', text: '因为下雨，所以所以不去了。' },
            { key: 'B', text: '他因为生病所以请假了。' },
            { key: 'C', text: '因为他很聪明，学习很好。' },
            { key: 'D', text: '所以下雨，因为不去了。' }
        ],
        answer: ['C'],
        analysis: '选C。因果关系中，"因为"和"所以"可以只用一个。A句重复使用"所以"；B句"因为…所以…"不应该出现在同一个句子中间部分；D句因果颠倒。'
    },
    {
        id: 'conj_basic_003',
        type: 'judgment',
        level: 'basic',
        category: 'conjunction',
        tag: '不但而且',
        stem: '"不但他喜欢音乐，而且他弟弟也喜欢"这句话的关联词使用是正确的。',
        options: [],
        answer: ['T'],
        analysis: '正确。当"不但…而且…"句子的前后分句主语不同时，"不但"应放在第一个分句的主语后面。此句前后主语不同（他/他弟弟），"不但"放在"他"后面是正确的。'
    },
    {
        id: 'conj_basic_004',
        type: 'single',
        level: 'basic',
        category: 'conjunction',
        tag: '或者还是',
        stem: '下列句子中选择连词使用正确的是：',
        options: [
            { key: 'A', text: '你喝茶或者喝咖啡？' },
            { key: 'B', text: '明天还是后天出发都可以。' },
            { key: 'C', text: '你是老师还是学生？' },
            { key: 'D', text: '我们可以坐车还是走路。' }
        ],
        answer: ['C'],
        analysis: '选C。"还是"用于疑问句中的选择，"或者"用于陈述句中的选择。A句是疑问句，应用"还是"；B句是陈述句，应用"或者"；D句是陈述句，应用"或者"。'
    },
    {
        id: 'conj_basic_005',
        type: 'multiple',
        level: 'basic',
        category: 'conjunction',
        tag: '并列连词',
        stem: '下列句子中并列连词使用正确的有：（多选）',
        options: [
            { key: 'A', text: '老师和学生都来了。' },
            { key: 'B', text: '我与你一起去。' },
            { key: 'C', text: '苹果、香蕉及其他水果' },
            { key: 'D', text: '他和很高兴。' }
        ],
        answer: ['A', 'B', 'C'],
        analysis: '选ABC。A句"和"连接两个名词，正确；B句"与"表示并列，正确；C句"及"连接并列成分，正确；D句"和"不能连接代词和形容词。'
    },
    
    // ========== 连词 - 进阶题 ==========
    {
        id: 'conj_adv_001',
        type: 'single',
        level: 'advanced',
        category: 'conjunction',
        tag: '虽然但是/即使也',
        stem: '下列分析正确的是：',
        options: [
            { key: 'A', text: '"虽然…但是…"和"即使…也…"都表示转折关系' },
            { key: 'B', text: '"虽然…但是…"表示假设，"即使…也…"表示转折' },
            { key: 'C', text: '"虽然…但是…"陈述已然事实，"即使…也…"陈述假设情况' },
            { key: 'D', text: '两组关联词可以互换使用' }
        ],
        answer: ['C'],
        analysis: '选C。这是两组关联词的核心区别。"虽然…但是…"承认前面的事实，但强调转折；"即使…也…"是退一步假设，表示即便在某种假设条件下，结果也不变。'
    },
    {
        id: 'conj_adv_002',
        type: 'multiple',
        level: 'advanced',
        category: 'conjunction',
        tag: '因为所以',
        stem: '下列句子中因果关系的表达正确的有：（多选）',
        options: [
            { key: 'A', text: '由于天气原因，航班取消了。' },
            { key: 'B', text: '他之所以成功，是因为努力。' },
            { key: 'C', text: '既然你来了，因此就留下吧。' },
            { key: 'D', text: '他很聪明，所以学习好。' }
        ],
        answer: ['A', 'B', 'D'],
        analysis: '选ABD。A句"由于"表原因，正确；B句"之所以…是因为…"是因果倒装结构，正确；D句只用"所以"表结果，正确。C句"既然"不能和"因此"搭配，应该和"就"搭配。'
    },
    {
        id: 'conj_adv_003',
        type: 'judgment',
        level: 'advanced',
        category: 'conjunction',
        tag: '不但而且',
        stem: '"不但我去，他而且也去"这句话语序是正确的。',
        options: [],
        answer: ['F'],
        analysis: '错误。当前后分句主语相同时，"不但"应放在主语后面，且"而且"应放在第二分句主语前。正确说法是："我不但去，而且他也去"或"不但我去，而且他也去"。原句"而且"的位置不对。'
    },
    
    // ========== 语气词 - 基础题 ==========
    {
        id: 'modal_basic_001',
        type: 'single',
        level: 'basic',
        category: 'modal',
        tag: '吗/呢/吧疑问语气',
        stem: '下列句子中语气词使用正确的是：',
        options: [
            { key: 'A', text: '你是学生吧？（推测）' },
            { key: 'B', text: '你去哪里吗？' },
            { key: 'C', text: '他是谁吗？' },
            { key: 'D', text: '你喜欢还是不喜欢呢？（是非问）' }
        ],
        answer: ['A'],
        analysis: '选A。"吧"可以表示推测语气，A句正确。B句"哪里"已经是特指问，应用"呢"；C句"谁"已经是特指问，应用"呢"；D句是选择问，不是是非问。'
    },
    {
        id: 'modal_basic_002',
        type: 'single',
        level: 'basic',
        category: 'modal',
        tag: '啊/呀感叹语气',
        stem: '填入横线处正确的语气词是：这花真美___！',
        options: [
            { key: 'A', text: '啊' },
            { key: 'B', text: '呀' },
            { key: 'C', text: '哇' },
            { key: 'D', text: '以上都可以' }
        ],
        answer: ['A'],
        analysis: '选A。"美"的韵尾是i，后面用"啊"。如果前面音节的韵尾是a、o、e、i、ü，用"啊"；如果是u，用"哇"；如果是n，用"哪"。'
    },
    {
        id: 'modal_basic_003',
        type: 'judgment',
        level: 'basic',
        category: 'modal',
        tag: '了/的语气',
        stem: '"下雨了"和"是下雨了"中的"了"功能相同。',
        options: [],
        answer: ['F'],
        analysis: '错误。"下雨了"中的"了"是语气词，表示情况的变化（从不下雨变成下雨）；"是下雨了"中的"了"也是语气词，但整个结构带有确认、强调的语气，侧重点不同。'
    },
    {
        id: 'modal_basic_004',
        type: 'multiple',
        level: 'basic',
        category: 'modal',
        tag: '吗/呢/吧疑问语气',
        stem: '下列句子中语气词使用正确的有：（多选）',
        options: [
            { key: 'A', text: '你吃饭了吗？' },
            { key: 'B', text: '他呢？（询问某人在哪里）' },
            { key: 'C', text: '我们走吧。' },
            { key: 'D', text: '这是什么吗？' }
        ],
        answer: ['A', 'B', 'C'],
        analysis: '选ABC。A句"吗"用于是非问，正确；B句"呢"用于追问或询问情况，正确；C句"吧"表示建议、商量，正确。D句"什么"是特指问，不应用"吗"，应用"呢"或不用语气词。'
    },
    
    // ========== 语气词 - 进阶题 ==========
    {
        id: 'modal_adv_001',
        type: 'single',
        level: 'advanced',
        category: 'modal',
        tag: '语气词综合',
        stem: '下列关于语气词的分析，正确的是：',
        options: [
            { key: 'A', text: '语气词只能用于句末' },
            { key: 'B', text: '语气词可以表达说话人的态度和情感' },
            { key: 'C', text: '一个句子只能用一个语气词' },
            { key: 'D', text: '语气词都表示疑问' }
        ],
        answer: ['B'],
        analysis: '选B。语气词的核心功能就是表达说话人的态度、情感和语气。A错，语气词也可用于句中停顿处；C错，可以连用，如"好啊了"；D错，语气词可表示陈述、疑问、祈使、感叹等多种语气。'
    },
    {
        id: 'modal_adv_002',
        type: 'multiple',
        level: 'advanced',
        category: 'modal',
        tag: '啊/呀感叹语气',
        stem: '下列"啊"的变体使用正确的有：（多选）',
        options: [
            { key: 'A', text: '真好哇！（前面是u韵尾）' },
            { key: 'B', text: '是他呀！（前面是a韵尾）' },
            { key: 'C', text: '真棒哪！（前面是n韵尾）' },
            { key: 'D', text: '快来呀！（前面是i韵尾）' }
        ],
        answer: ['A', 'C'],
        analysis: '选AC。"啊"的变体规则：u韵尾后用"哇"（A正确），a/o/e/i/ü韵尾后用"啊"或"呀"（B错，应为"啊"），n韵尾后用"哪"（C正确），ng韵尾后用"啊"。D句"来"的韵尾是ai中的i，应用"呀"或"啊"都可，但此处判断标准是看规则，来的实际发音韵尾处理为ai。'
    },
    {
        id: 'modal_adv_003',
        type: 'judgment',
        level: 'advanced',
        category: 'modal',
        tag: '了/的语气',
        stem: '"他是昨天来的"这句话中的"的"是结构助词，表示定中关系。',
        options: [],
        answer: ['F'],
        analysis: '错误。"他是昨天来的"中的"的"是语气词，用于"是…的"强调结构，这里强调的是时间"昨天"。这个"的"不是结构助词，不表示定中关系。'
    },
    
    // ========== 综合进阶题 ==========
    {
        id: 'comp_adv_001',
        type: 'single',
        level: 'advanced',
        category: 'particle',
        tag: '结构助词综合',
        stem: '下列句子中，哪个"的"是结构助词？',
        options: [
            { key: 'A', text: '他是昨天来的。' },
            { key: 'B', text: '这本书是我的。' },
            { key: 'C', text: '好的，我知道了。' },
            { key: 'D', text: '红的、绿的都有。' }
        ],
        answer: ['D'],
        analysis: '选D。D句"红的、绿的"中的"的"是结构助词，与形容词组成"的"字短语，相当于"红的（东西）、绿的（东西）"。A句是语气词（"是…的"强调结构）；B句是语气词（表示归属判断）；C句是语气词（表示应答）。'
    },
    {
        id: 'comp_adv_002',
        type: 'multiple',
        level: 'advanced',
        category: 'conjunction',
        tag: '并列连词',
        stem: '下列关于并列连词的表述正确的有：（多选）',
        options: [
            { key: 'A', text: '"和"是最常用的并列连词，适用于各种语体' },
            { key: 'B', text: '"与"比"和"更书面化' },
            { key: 'C', text: '"跟、同"比"和"更口语化' },
            { key: 'D', text: '并列连词连接的成分必须是同类的' }
        ],
        answer: ['A', 'B', 'C', 'D'],
        analysis: '全选。A正确，"和"是最通用的；B正确，"与"多用于书面语；C正确，"跟、同"偏口语；D正确，并列连词连接的成分在语法和语义上应该是同类的、平等的。'
    }
];

// 导出（供其他模块使用）
window.QUESTIONS = QUESTIONS;
window.CATEGORY_MAP = CATEGORY_MAP;
window.TAG_DESCRIPTIONS = TAG_DESCRIPTIONS;
window.STUDY_SUGGESTIONS = STUDY_SUGGESTIONS;
